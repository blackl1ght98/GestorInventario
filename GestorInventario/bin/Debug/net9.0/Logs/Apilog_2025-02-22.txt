INFO  2025-02-22 12:10:30 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: https://localhost:7056
INFO  2025-02-22 12:10:30 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: http://localhost:5000
INFO  2025-02-22 12:10:30 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Application started. Press Ctrl+C to shut down.
INFO  2025-02-22 12:10:30 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Hosting environment: Development
INFO  2025-02-22 12:10:30 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Content root path: C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario
INFO  2025-02-22 12:10:48 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1,318ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 12:10:48 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (77ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 12:10:49 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (43ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 12:11:30 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (351ms) [Parameters=[@__email_0='?' (Size = 500) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Email] = @__email_0
INFO  2025-02-22 12:11:30 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (11ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 12:11:30 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (12ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 12:11:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (321ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 12:11:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (78ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
WARN  2025-02-22 12:11:35 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
WARN  2025-02-22 12:11:35 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
INFO  2025-02-22 12:11:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (154ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 12:11:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 12:11:44 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1,710ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 12:11:44 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 12:11:44 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 12:11:44 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 12:11:47 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (227ms) [Parameters=[@__8__locals1_usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__8__locals1_usuarioId_0
INFO  2025-02-22 12:11:47 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__8__locals1_idProducto_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__8__locals1_idProducto_0
INFO  2025-02-22 12:11:48 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (229ms) [Parameters=[@__carrito_Id_0='?' (DbType = Int32), @__8__locals1_idProducto_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__carrito_Id_0 AND [i].[ProductoId] = @__8__locals1_idProducto_1
INFO  2025-02-22 12:11:49 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1,313ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ItemsDelCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 12:11:50 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (425ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 200) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Productos] SET [Cantidad] = @p0, [Descripcion] = @p1, [FechaCreacion] = @p2, [FechaModificacion] = @p3, [IdProveedor] = @p4, [Imagen] = @p5, [NombreProducto] = @p6, [Precio] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 12:11:50 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 12:11:50 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 12:11:51 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 12:11:51 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 12:11:53 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (136ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 12:11:53 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
INFO  2025-02-22 12:11:53 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 12:11:53 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (205ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 12:11:58 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 12:11:58 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__userIdcarrito_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__userIdcarrito_0
INFO  2025-02-22 12:12:01 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3,151ms) [Parameters=[@p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pedidos] ([currency], [EstadoPedido], [FechaPedido], [IdUsuario], [NumeroPedido], [PagoId], [saleID], [total])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  2025-02-22 12:12:01 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (343ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePedido] ([Cantidad], [PedidoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 12:12:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (340ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HistorialPedidos] ([Accion], [Fecha], [IdUsuario], [Ip])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
INFO  2025-02-22 12:12:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (77ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleHistorialPedidos] ([Cantidad], [EstadoPedido], [FechaPedido], [HistorialPedidoId], [NumeroPedido], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INFO  2025-02-22 12:12:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItemsDelCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INFO  2025-02-22 12:12:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__p_0
INFO  2025-02-22 12:15:46 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: https://localhost:7056
INFO  2025-02-22 12:15:46 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: http://localhost:5000
INFO  2025-02-22 12:15:46 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Application started. Press Ctrl+C to shut down.
INFO  2025-02-22 12:15:46 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Hosting environment: Development
INFO  2025-02-22 12:15:46 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Content root path: C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario
INFO  2025-02-22 12:15:51 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (183ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 12:15:51 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 12:15:51 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (5ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 12:16:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 12:16:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
WARN  2025-02-22 12:16:10 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
WARN  2025-02-22 12:16:10 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
INFO  2025-02-22 12:16:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (41ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 12:16:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 12:16:16 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (213ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 12:16:16 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__userIdcarrito_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__userIdcarrito_0
INFO  2025-02-22 12:16:16 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (62ms) [Parameters=[@p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pedidos] ([currency], [EstadoPedido], [FechaPedido], [IdUsuario], [NumeroPedido], [PagoId], [saleID], [total])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  2025-02-22 12:16:16 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (47ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePedido] ([Cantidad], [PedidoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 12:16:16 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HistorialPedidos] ([Accion], [Fecha], [IdUsuario], [Ip])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
INFO  2025-02-22 12:16:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleHistorialPedidos] ([Cantidad], [EstadoPedido], [FechaPedido], [HistorialPedidoId], [NumeroPedido], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INFO  2025-02-22 12:16:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItemsDelCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INFO  2025-02-22 12:16:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__p_0
INFO  2025-02-22 12:17:22 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (557ms) [Parameters=[@__usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[currency], [p].[EstadoPedido], [p].[FechaPedido], [p].[IdUsuario], [p].[NumeroPedido], [p].[PagoId], [p].[saleID], [p].[total]
FROM [Pedidos] AS [p]
WHERE [p].[IdUsuario] = @__usuarioId_0 AND [p].[EstadoPedido] = 'En Proceso'
ORDER BY [p].[FechaPedido] DESC
INFO  2025-02-22 12:17:23 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (118ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Pedidos] SET [currency] = @p0, [EstadoPedido] = @p1, [FechaPedido] = @p2, [IdUsuario] = @p3, [NumeroPedido] = @p4, [PagoId] = @p5, [saleID] = @p6, [total] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 12:17:29 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (90ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 12:17:29 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 12:17:29 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 12:17:29 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 13:14:35 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: https://localhost:7056
INFO  2025-02-22 13:14:35 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: http://localhost:5000
INFO  2025-02-22 13:14:35 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Application started. Press Ctrl+C to shut down.
INFO  2025-02-22 13:14:35 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Hosting environment: Development
INFO  2025-02-22 13:14:35 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Content root path: C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario
INFO  2025-02-22 13:14:44 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1,841ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 13:14:44 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (71ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 13:14:44 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (54ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 13:14:50 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (200ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 13:14:50 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 13:14:50 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 13:14:50 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 13:14:54 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (51ms) [Parameters=[@__8__locals1_usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__8__locals1_usuarioId_0
INFO  2025-02-22 13:14:54 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[@__8__locals1_idProducto_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__8__locals1_idProducto_0
INFO  2025-02-22 13:14:54 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (36ms) [Parameters=[@__carrito_Id_0='?' (DbType = Int32), @__8__locals1_idProducto_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__carrito_Id_0 AND [i].[ProductoId] = @__8__locals1_idProducto_1
INFO  2025-02-22 13:14:54 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ItemsDelCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 13:14:55 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (25ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 200) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Productos] SET [Cantidad] = @p0, [Descripcion] = @p1, [FechaCreacion] = @p2, [FechaModificacion] = @p3, [IdProveedor] = @p4, [Imagen] = @p5, [NombreProducto] = @p6, [Precio] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 13:14:55 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 13:14:55 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 13:14:55 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 13:14:55 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 13:14:57 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 13:14:57 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
WARN  2025-02-22 13:14:57 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
WARN  2025-02-22 13:14:57 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
INFO  2025-02-22 13:14:57 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 13:14:57 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (86ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 13:15:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 13:15:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__userIdcarrito_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__userIdcarrito_0
INFO  2025-02-22 13:15:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (98ms) [Parameters=[@p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pedidos] ([currency], [EstadoPedido], [FechaPedido], [IdUsuario], [NumeroPedido], [PagoId], [saleID], [total])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  2025-02-22 13:15:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePedido] ([Cantidad], [PedidoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 13:15:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HistorialPedidos] ([Accion], [Fecha], [IdUsuario], [Ip])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
INFO  2025-02-22 13:15:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleHistorialPedidos] ([Cantidad], [EstadoPedido], [FechaPedido], [HistorialPedidoId], [NumeroPedido], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INFO  2025-02-22 13:15:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (44ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItemsDelCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INFO  2025-02-22 13:15:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__p_0
ERROR 2025-02-22 13:15:52 – Clase: GestorInventario.Infraestructure.Controllers.PaymentController - Mensaje: Error al realizar el pago
System.Net.Http.HttpRequestException: Se produjo un error durante el intento de conexión ya que la parte conectada no respondió adecuadamente tras un periodo de tiempo, o bien se produjo un error en la conexión establecida ya que el host conectado no ha podido responder. (api-m.sandbox.paypal.com:443)
 ---> System.Net.Sockets.SocketException (10060): Se produjo un error durante el intento de conexión ya que la parte conectada no respondió adecuadamente tras un periodo de tiempo, o bien se produjo un error en la conexión establecida ya que el host conectado no ha podido responder.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at GestorInventario.Application.Services.PaypalServices.GetAccessTokenAsync(String clientId, String clientSecret) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\PaypalServices.cs:line 389
   at GestorInventario.Infraestructure.Controllers.PaymentController.Success(String paymentId, String PayerID) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Infraestructure\Controllers\PaymentController.cs:line 52
INFO  2025-02-22 13:16:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 13:16:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 13:16:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 13:16:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 13:16:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__8__locals1_usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__8__locals1_usuarioId_0
INFO  2025-02-22 13:16:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__8__locals1_idProducto_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__8__locals1_idProducto_0
INFO  2025-02-22 13:16:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__carrito_Id_0='?' (DbType = Int32), @__8__locals1_idProducto_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__carrito_Id_0 AND [i].[ProductoId] = @__8__locals1_idProducto_1
INFO  2025-02-22 13:16:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ItemsDelCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 13:16:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 200) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Productos] SET [Cantidad] = @p0, [Descripcion] = @p1, [FechaCreacion] = @p2, [FechaModificacion] = @p3, [IdProveedor] = @p4, [Imagen] = @p5, [NombreProducto] = @p6, [Precio] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 13:16:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 13:16:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 13:16:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 13:16:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 13:16:15 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 13:16:15 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
INFO  2025-02-22 13:16:15 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 13:16:15 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 13:16:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 13:16:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__userIdcarrito_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__userIdcarrito_0
INFO  2025-02-22 13:16:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pedidos] ([currency], [EstadoPedido], [FechaPedido], [IdUsuario], [NumeroPedido], [PagoId], [saleID], [total])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  2025-02-22 13:16:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePedido] ([Cantidad], [PedidoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 13:16:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HistorialPedidos] ([Accion], [Fecha], [IdUsuario], [Ip])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
INFO  2025-02-22 13:16:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleHistorialPedidos] ([Cantidad], [EstadoPedido], [FechaPedido], [HistorialPedidoId], [NumeroPedido], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INFO  2025-02-22 13:16:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItemsDelCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INFO  2025-02-22 13:16:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__p_0
INFO  2025-02-22 13:16:24 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (274ms) [Parameters=[@__usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[currency], [p].[EstadoPedido], [p].[FechaPedido], [p].[IdUsuario], [p].[NumeroPedido], [p].[PagoId], [p].[saleID], [p].[total]
FROM [Pedidos] AS [p]
WHERE [p].[IdUsuario] = @__usuarioId_0 AND [p].[EstadoPedido] = 'En Proceso'
ORDER BY [p].[FechaPedido] DESC
INFO  2025-02-22 13:16:24 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (62ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Pedidos] SET [currency] = @p0, [EstadoPedido] = @p1, [FechaPedido] = @p2, [IdUsuario] = @p3, [NumeroPedido] = @p4, [PagoId] = @p5, [saleID] = @p6, [total] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 13:16:30 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (201ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 13:16:30 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 13:16:30 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 13:16:30 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 13:16:33 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (175ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Pedidos] AS [p]
WARN  2025-02-22 13:16:33 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
WARN  2025-02-22 13:16:33 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
INFO  2025-02-22 13:16:33 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (213ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p0].[Id], [p0].[currency], [p0].[EstadoPedido], [p0].[FechaPedido], [p0].[IdUsuario], [p0].[NumeroPedido], [p0].[PagoId], [p0].[saleID], [p0].[total], [u].[Id], [s].[Id], [s].[Cantidad], [s].[PedidoId], [s].[ProductoId], [s].[Id0], [s].[Cantidad0], [s].[Descripcion], [s].[FechaCreacion], [s].[FechaModificacion], [s].[IdProveedor], [s].[Imagen], [s].[NombreProducto], [s].[Precio], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM (
    SELECT [p].[Id], [p].[currency], [p].[EstadoPedido], [p].[FechaPedido], [p].[IdUsuario], [p].[NumeroPedido], [p].[PagoId], [p].[saleID], [p].[total]
    FROM [Pedidos] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
LEFT JOIN [Usuarios] AS [u] ON [p0].[IdUsuario] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[PedidoId], [d].[ProductoId], [p1].[Id] AS [Id0], [p1].[Cantidad] AS [Cantidad0], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio]
    FROM [DetallePedido] AS [d]
    LEFT JOIN [Productos] AS [p1] ON [d].[ProductoId] = [p1].[Id]
) AS [s] ON [p0].[Id] = [s].[PedidoId]
ORDER BY [p0].[Id], [u].[Id], [s].[Id]
INFO  2025-02-22 13:16:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Pedidos] AS [p]
INFO  2025-02-22 13:16:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p0].[Id], [p0].[currency], [p0].[EstadoPedido], [p0].[FechaPedido], [p0].[IdUsuario], [p0].[NumeroPedido], [p0].[PagoId], [p0].[saleID], [p0].[total], [u].[Id], [s].[Id], [s].[Cantidad], [s].[PedidoId], [s].[ProductoId], [s].[Id0], [s].[Cantidad0], [s].[Descripcion], [s].[FechaCreacion], [s].[FechaModificacion], [s].[IdProveedor], [s].[Imagen], [s].[NombreProducto], [s].[Precio], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM (
    SELECT [p].[Id], [p].[currency], [p].[EstadoPedido], [p].[FechaPedido], [p].[IdUsuario], [p].[NumeroPedido], [p].[PagoId], [p].[saleID], [p].[total]
    FROM [Pedidos] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
LEFT JOIN [Usuarios] AS [u] ON [p0].[IdUsuario] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[PedidoId], [d].[ProductoId], [p1].[Id] AS [Id0], [p1].[Cantidad] AS [Cantidad0], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio]
    FROM [DetallePedido] AS [d]
    LEFT JOIN [Productos] AS [p1] ON [d].[ProductoId] = [p1].[Id]
) AS [s] ON [p0].[Id] = [s].[PedidoId]
ORDER BY [p0].[Id], [u].[Id], [s].[Id]
INFO  2025-02-22 13:16:36 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Pedidos] AS [p]
INFO  2025-02-22 13:16:36 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p0].[Id], [p0].[currency], [p0].[EstadoPedido], [p0].[FechaPedido], [p0].[IdUsuario], [p0].[NumeroPedido], [p0].[PagoId], [p0].[saleID], [p0].[total], [u].[Id], [s].[Id], [s].[Cantidad], [s].[PedidoId], [s].[ProductoId], [s].[Id0], [s].[Cantidad0], [s].[Descripcion], [s].[FechaCreacion], [s].[FechaModificacion], [s].[IdProveedor], [s].[Imagen], [s].[NombreProducto], [s].[Precio], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM (
    SELECT [p].[Id], [p].[currency], [p].[EstadoPedido], [p].[FechaPedido], [p].[IdUsuario], [p].[NumeroPedido], [p].[PagoId], [p].[saleID], [p].[total]
    FROM [Pedidos] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
LEFT JOIN [Usuarios] AS [u] ON [p0].[IdUsuario] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[PedidoId], [d].[ProductoId], [p1].[Id] AS [Id0], [p1].[Cantidad] AS [Cantidad0], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio]
    FROM [DetallePedido] AS [d]
    LEFT JOIN [Productos] AS [p1] ON [d].[ProductoId] = [p1].[Id]
) AS [s] ON [p0].[Id] = [s].[PedidoId]
ORDER BY [p0].[Id], [u].[Id], [s].[Id]
INFO  2025-02-22 13:16:37 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Pedidos] AS [p]
INFO  2025-02-22 13:16:37 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p0].[Id], [p0].[currency], [p0].[EstadoPedido], [p0].[FechaPedido], [p0].[IdUsuario], [p0].[NumeroPedido], [p0].[PagoId], [p0].[saleID], [p0].[total], [u].[Id], [s].[Id], [s].[Cantidad], [s].[PedidoId], [s].[ProductoId], [s].[Id0], [s].[Cantidad0], [s].[Descripcion], [s].[FechaCreacion], [s].[FechaModificacion], [s].[IdProveedor], [s].[Imagen], [s].[NombreProducto], [s].[Precio], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM (
    SELECT [p].[Id], [p].[currency], [p].[EstadoPedido], [p].[FechaPedido], [p].[IdUsuario], [p].[NumeroPedido], [p].[PagoId], [p].[saleID], [p].[total]
    FROM [Pedidos] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
LEFT JOIN [Usuarios] AS [u] ON [p0].[IdUsuario] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[PedidoId], [d].[ProductoId], [p1].[Id] AS [Id0], [p1].[Cantidad] AS [Cantidad0], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio]
    FROM [DetallePedido] AS [d]
    LEFT JOIN [Productos] AS [p1] ON [d].[ProductoId] = [p1].[Id]
) AS [s] ON [p0].[Id] = [s].[PedidoId]
ORDER BY [p0].[Id], [u].[Id], [s].[Id]
INFO  2025-02-22 13:16:37 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Pedidos] AS [p]
INFO  2025-02-22 13:16:37 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p0].[Id], [p0].[currency], [p0].[EstadoPedido], [p0].[FechaPedido], [p0].[IdUsuario], [p0].[NumeroPedido], [p0].[PagoId], [p0].[saleID], [p0].[total], [u].[Id], [s].[Id], [s].[Cantidad], [s].[PedidoId], [s].[ProductoId], [s].[Id0], [s].[Cantidad0], [s].[Descripcion], [s].[FechaCreacion], [s].[FechaModificacion], [s].[IdProveedor], [s].[Imagen], [s].[NombreProducto], [s].[Precio], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM (
    SELECT [p].[Id], [p].[currency], [p].[EstadoPedido], [p].[FechaPedido], [p].[IdUsuario], [p].[NumeroPedido], [p].[PagoId], [p].[saleID], [p].[total]
    FROM [Pedidos] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
LEFT JOIN [Usuarios] AS [u] ON [p0].[IdUsuario] = [u].[Id]
LEFT JOIN (
    SELECT [d].[Id], [d].[Cantidad], [d].[PedidoId], [d].[ProductoId], [p1].[Id] AS [Id0], [p1].[Cantidad] AS [Cantidad0], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio]
    FROM [DetallePedido] AS [d]
    LEFT JOIN [Productos] AS [p1] ON [d].[ProductoId] = [p1].[Id]
) AS [s] ON [p0].[Id] = [s].[PedidoId]
ORDER BY [p0].[Id], [u].[Id], [s].[Id]
INFO  2025-02-22 13:16:39 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (138ms) [Parameters=[@__id_0='?' (Size = 50) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[id], [p1].[cart], [p1].[create_time], [p1].[description], [p1].[exchange_rate], [p1].[intent], [p1].[parent_payment], [p1].[payee_email], [p1].[payee_merchant_id], [p1].[payer_email], [p1].[payer_first_name], [p1].[payer_id], [p1].[payer_last_name], [p1].[payer_status], [p1].[payment_method], [p1].[payment_mode], [p1].[protection_eligibility], [p1].[protection_eligibility_type], [p1].[receivable_amount], [p1].[receivable_currency], [p1].[sale_currency], [p1].[sale_discount], [p1].[sale_handling_fee], [p1].[sale_id], [p1].[sale_insurance], [p1].[sale_shipping], [p1].[sale_shipping_discount], [p1].[sale_state], [p1].[sale_subtotal], [p1].[sale_total], [p1].[shipping_city], [p1].[shipping_country_code], [p1].[shipping_line1], [p1].[shipping_postal_code], [p1].[shipping_recipient_name], [p1].[shipping_state], [p1].[state], [p1].[transaction_fee_amount], [p1].[transaction_fee_currency], [p1].[transactions_currency], [p1].[transactions_discount], [p1].[transactions_handling_fee], [p1].[transactions_insurance], [p1].[transactions_shipping], [p1].[transactions_shipping_discount], [p1].[transactions_subtotal], [p1].[transactions_total], [p1].[update_time], [p0].[id], [p0].[item_currency], [p0].[item_image_url], [p0].[item_name], [p0].[item_price], [p0].[item_quantity], [p0].[item_sku], [p0].[item_tax], [p0].[payPal_id]
FROM (
    SELECT TOP(1) [p].[id], [p].[cart], [p].[create_time], [p].[description], [p].[exchange_rate], [p].[intent], [p].[parent_payment], [p].[payee_email], [p].[payee_merchant_id], [p].[payer_email], [p].[payer_first_name], [p].[payer_id], [p].[payer_last_name], [p].[payer_status], [p].[payment_method], [p].[payment_mode], [p].[protection_eligibility], [p].[protection_eligibility_type], [p].[receivable_amount], [p].[receivable_currency], [p].[sale_currency], [p].[sale_discount], [p].[sale_handling_fee], [p].[sale_id], [p].[sale_insurance], [p].[sale_shipping], [p].[sale_shipping_discount], [p].[sale_state], [p].[sale_subtotal], [p].[sale_total], [p].[shipping_city], [p].[shipping_country_code], [p].[shipping_line1], [p].[shipping_postal_code], [p].[shipping_recipient_name], [p].[shipping_state], [p].[state], [p].[transaction_fee_amount], [p].[transaction_fee_currency], [p].[transactions_currency], [p].[transactions_discount], [p].[transactions_handling_fee], [p].[transactions_insurance], [p].[transactions_shipping], [p].[transactions_shipping_discount], [p].[transactions_subtotal], [p].[transactions_total], [p].[update_time]
    FROM [PayPalPaymentDetails] AS [p]
    WHERE [p].[id] = @__id_0
) AS [p1]
LEFT JOIN [PayPalPaymentItems] AS [p0] ON [p1].[id] = [p0].[payPal_id]
ORDER BY [p1].[id]
INFO  2025-02-22 13:16:40 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 50) (DbType = AnsiString), @p1='?' (Size = 50) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (Size = 255) (DbType = AnsiString), @p4='?' (Precision = 20) (Scale = 10) (DbType = Decimal), @p5='?' (Size = 20) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 100) (DbType = AnsiString), @p8='?' (Size = 50) (DbType = AnsiString), @p9='?' (Size = 100) (DbType = AnsiString), @p10='?' (Size = 50) (DbType = AnsiString), @p11='?' (Size = 50) (DbType = AnsiString), @p12='?' (Size = 50) (DbType = AnsiString), @p13='?' (Size = 20) (DbType = AnsiString), @p14='?' (Size = 20) (DbType = AnsiString), @p15='?' (Size = 50) (DbType = AnsiString), @p16='?' (Size = 50) (DbType = AnsiString), @p17='?' (Size = 100) (DbType = AnsiString), @p18='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 10) (DbType = AnsiString), @p20='?' (Size = 10) (DbType = AnsiString), @p21='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p22='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p23='?' (Size = 50) (DbType = AnsiString), @p24='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (Size = 20) (DbType = AnsiString), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p30='?' (Size = 50) (DbType = AnsiString), @p31='?' (Size = 10) (DbType = AnsiString), @p32='?' (Size = 100) (DbType = AnsiString), @p33='?' (Size = 20) (DbType = AnsiString), @p34='?' (Size = 100) (DbType = AnsiString), @p35='?' (Size = 50) (DbType = AnsiString), @p36='?' (Size = 20) (DbType = AnsiString), @p37='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p38='?' (Size = 10) (DbType = AnsiString), @p39='?' (Size = 10) (DbType = AnsiString), @p40='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p41='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p42='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p43='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p44='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p45='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p46='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PayPalPaymentDetails] ([id], [cart], [create_time], [description], [exchange_rate], [intent], [parent_payment], [payee_email], [payee_merchant_id], [payer_email], [payer_first_name], [payer_id], [payer_last_name], [payer_status], [payment_method], [payment_mode], [protection_eligibility], [protection_eligibility_type], [receivable_amount], [receivable_currency], [sale_currency], [sale_discount], [sale_handling_fee], [sale_id], [sale_insurance], [sale_shipping], [sale_shipping_discount], [sale_state], [sale_subtotal], [sale_total], [shipping_city], [shipping_country_code], [shipping_line1], [shipping_postal_code], [shipping_recipient_name], [shipping_state], [state], [transaction_fee_amount], [transaction_fee_currency], [transactions_currency], [transactions_discount], [transactions_handling_fee], [transactions_insurance], [transactions_shipping], [transactions_shipping_discount], [transactions_subtotal], [transactions_total], [update_time])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47);
INFO  2025-02-22 13:16:40 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (45ms) [Parameters=[@p32='?' (Size = 50) (DbType = AnsiString), @p0='?' (DbType = DateTime), @p1='?' (Size = 255) (DbType = AnsiString), @p2='?' (Precision = 20) (Scale = 10) (DbType = Decimal), @p3='?' (Size = 50) (DbType = AnsiString), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (Size = 50) (DbType = AnsiString), @p6='?' (Size = 50) (DbType = AnsiString), @p7='?' (Size = 50) (DbType = AnsiString), @p8='?' (Size = 100) (DbType = AnsiString), @p9='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 10) (DbType = AnsiString), @p11='?' (Size = 10) (DbType = AnsiString), @p12='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p13='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p14='?' (Size = 50) (DbType = AnsiString), @p15='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p16='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p17='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p18='?' (Size = 20) (DbType = AnsiString), @p19='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p20='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p21='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p22='?' (Size = 10) (DbType = AnsiString), @p23='?' (Size = 10) (DbType = AnsiString), @p24='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p25='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p26='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p27='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p28='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p29='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p30='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p31='?' (DbType = DateTime), @p33='?' (Size = 10) (DbType = AnsiString), @p34='?' (Size = 255) (DbType = AnsiString), @p35='?' (Size = 100) (DbType = AnsiString), @p36='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p37='?' (DbType = Int32), @p38='?' (Size = 50) (DbType = AnsiString), @p39='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p40='?' (Size = 50) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [PayPalPaymentDetails] SET [create_time] = @p0, [description] = @p1, [exchange_rate] = @p2, [parent_payment] = @p3, [payee_email] = @p4, [payee_merchant_id] = @p5, [payment_mode] = @p6, [protection_eligibility] = @p7, [protection_eligibility_type] = @p8, [receivable_amount] = @p9, [receivable_currency] = @p10, [sale_currency] = @p11, [sale_discount] = @p12, [sale_handling_fee] = @p13, [sale_id] = @p14, [sale_insurance] = @p15, [sale_shipping] = @p16, [sale_shipping_discount] = @p17, [sale_state] = @p18, [sale_subtotal] = @p19, [sale_total] = @p20, [transaction_fee_amount] = @p21, [transaction_fee_currency] = @p22, [transactions_currency] = @p23, [transactions_discount] = @p24, [transactions_handling_fee] = @p25, [transactions_insurance] = @p26, [transactions_shipping] = @p27, [transactions_shipping_discount] = @p28, [transactions_subtotal] = @p29, [transactions_total] = @p30, [update_time] = @p31
OUTPUT 1
WHERE [id] = @p32;
INSERT INTO [PayPalPaymentItems] ([item_currency], [item_image_url], [item_name], [item_price], [item_quantity], [item_sku], [item_tax], [payPal_id])
OUTPUT INSERTED.[id]
VALUES (@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40);
INFO  2025-02-22 15:53:15 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: https://localhost:7056
INFO  2025-02-22 15:53:15 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: http://localhost:5000
INFO  2025-02-22 15:53:15 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Application started. Press Ctrl+C to shut down.
INFO  2025-02-22 15:53:15 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Hosting environment: Development
INFO  2025-02-22 15:53:15 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Content root path: C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario
INFO  2025-02-22 15:53:22 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (464ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 15:53:22 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (26ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 15:53:23 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (22ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 15:53:27 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (232ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 15:53:27 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
WARN  2025-02-22 15:53:27 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
WARN  2025-02-22 15:53:27 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
INFO  2025-02-22 15:53:27 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (155ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 15:53:28 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (145ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 15:53:32 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (264ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 15:53:32 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 15:53:32 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 15:53:32 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 15:53:34 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (38ms) [Parameters=[@__8__locals1_usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__8__locals1_usuarioId_0
INFO  2025-02-22 15:53:34 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__8__locals1_idProducto_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__8__locals1_idProducto_0
INFO  2025-02-22 15:53:34 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__carrito_Id_0='?' (DbType = Int32), @__8__locals1_idProducto_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__carrito_Id_0 AND [i].[ProductoId] = @__8__locals1_idProducto_1
INFO  2025-02-22 15:53:34 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (176ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ItemsDelCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 15:53:34 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (31ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 200) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Productos] SET [Cantidad] = @p0, [Descripcion] = @p1, [FechaCreacion] = @p2, [FechaModificacion] = @p3, [IdProveedor] = @p4, [Imagen] = @p5, [NombreProducto] = @p6, [Precio] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 15:53:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 15:53:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 15:53:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 15:53:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 15:53:37 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 15:53:37 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
INFO  2025-02-22 15:53:37 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 15:53:37 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (73ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 15:53:39 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (116ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 15:53:39 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 15:53:39 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__userIdcarrito_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__userIdcarrito_0
INFO  2025-02-22 15:53:39 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pedidos] ([currency], [EstadoPedido], [FechaPedido], [IdUsuario], [NumeroPedido], [PagoId], [saleID], [total])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  2025-02-22 15:53:39 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePedido] ([Cantidad], [PedidoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 15:53:39 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HistorialPedidos] ([Accion], [Fecha], [IdUsuario], [Ip])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
INFO  2025-02-22 15:53:39 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleHistorialPedidos] ([Cantidad], [EstadoPedido], [FechaPedido], [HistorialPedidoId], [NumeroPedido], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INFO  2025-02-22 15:53:39 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItemsDelCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INFO  2025-02-22 15:53:39 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__p_0
ERROR 2025-02-22 15:53:41 – Clase: GestorInventario.Application.Services.PaypalServices - Mensaje: Error al crear la orden de PayPal
System.Exception: Error al crear la orden: BadRequest - {"name":"VALIDATION_ERROR","details":[{"field":"transactions[0].item_list.shipping_address.line1","issue":"Must not be blank"}],"message":"Invalid request - see details","information_link":"https://developer.paypal.com/docs/api/payments/v1/#error-VALIDATION_ERROR","debug_id":"f19494003d55f"}
   at GestorInventario.Application.Services.PaypalServices.CreateOrderAsync(Checkout pagar) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\PaypalServices.cs:line 133
ERROR 2025-02-22 15:53:41 – Clase: GestorInventario.Infraestructure.Repositories.CarritoRepository - Mensaje: Error al realizar el pago
System.InvalidOperationException: No se pudo crear la orden de PayPal
 ---> System.Exception: Error al crear la orden: BadRequest - {"name":"VALIDATION_ERROR","details":[{"field":"transactions[0].item_list.shipping_address.line1","issue":"Must not be blank"}],"message":"Invalid request - see details","information_link":"https://developer.paypal.com/docs/api/payments/v1/#error-VALIDATION_ERROR","debug_id":"f19494003d55f"}
   at GestorInventario.Application.Services.PaypalServices.CreateOrderAsync(Checkout pagar) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\PaypalServices.cs:line 133
   --- End of inner exception stack trace ---
   at GestorInventario.Application.Services.PaypalServices.CreateOrderAsync(Checkout pagar) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\PaypalServices.cs:line 149
   at GestorInventario.Infraestructure.Repositories.CarritoRepository.Pagar(String moneda, Int32 userId) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Infraestructure\Repositories\CarritoRepository.cs:line 138
INFO  2025-02-22 15:53:41 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 15:54:53 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: https://localhost:7056
INFO  2025-02-22 15:54:53 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: http://localhost:5000
INFO  2025-02-22 15:54:53 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Application started. Press Ctrl+C to shut down.
INFO  2025-02-22 15:54:53 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Hosting environment: Development
INFO  2025-02-22 15:54:53 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Content root path: C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario
INFO  2025-02-22 15:54:58 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (82ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 15:54:58 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (8ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 15:54:58 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 15:55:31 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 15:55:31 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
WARN  2025-02-22 15:55:31 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
WARN  2025-02-22 15:55:31 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
INFO  2025-02-22 15:55:31 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 15:55:31 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 15:55:34 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 15:55:34 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 15:55:34 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__userIdcarrito_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__userIdcarrito_0
INFO  2025-02-22 15:55:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pedidos] ([currency], [EstadoPedido], [FechaPedido], [IdUsuario], [NumeroPedido], [PagoId], [saleID], [total])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  2025-02-22 15:55:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePedido] ([Cantidad], [PedidoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 15:55:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HistorialPedidos] ([Accion], [Fecha], [IdUsuario], [Ip])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
INFO  2025-02-22 15:55:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleHistorialPedidos] ([Cantidad], [EstadoPedido], [FechaPedido], [HistorialPedidoId], [NumeroPedido], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INFO  2025-02-22 15:55:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItemsDelCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INFO  2025-02-22 15:55:35 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__p_0
INFO  2025-02-22 15:57:20 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (122ms) [Parameters=[@__usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[currency], [p].[EstadoPedido], [p].[FechaPedido], [p].[IdUsuario], [p].[NumeroPedido], [p].[PagoId], [p].[saleID], [p].[total]
FROM [Pedidos] AS [p]
WHERE [p].[IdUsuario] = @__usuarioId_0 AND [p].[EstadoPedido] = 'En Proceso'
ORDER BY [p].[FechaPedido] DESC
INFO  2025-02-22 15:57:20 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (45ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Pedidos] SET [currency] = @p0, [EstadoPedido] = @p1, [FechaPedido] = @p2, [IdUsuario] = @p3, [NumeroPedido] = @p4, [PagoId] = @p5, [saleID] = @p6, [total] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 15:57:26 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (131ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 15:57:26 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 15:57:26 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 15:57:26 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 15:59:09 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: https://localhost:7056
INFO  2025-02-22 15:59:09 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: http://localhost:5000
INFO  2025-02-22 15:59:09 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Application started. Press Ctrl+C to shut down.
INFO  2025-02-22 15:59:09 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Hosting environment: Development
INFO  2025-02-22 15:59:09 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Content root path: C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario
INFO  2025-02-22 15:59:18 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (477ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 15:59:18 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (7ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 15:59:19 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 16:00:08 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (864ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 16:00:08 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 16:00:08 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 16:00:08 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 16:00:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (341ms) [Parameters=[@__8__locals1_usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__8__locals1_usuarioId_0
INFO  2025-02-22 16:00:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (84ms) [Parameters=[@__8__locals1_idProducto_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__8__locals1_idProducto_0
INFO  2025-02-22 16:00:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (136ms) [Parameters=[@__carrito_Id_0='?' (DbType = Int32), @__8__locals1_idProducto_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__carrito_Id_0 AND [i].[ProductoId] = @__8__locals1_idProducto_1
INFO  2025-02-22 16:00:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ItemsDelCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 16:00:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (19ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 200) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Productos] SET [Cantidad] = @p0, [Descripcion] = @p1, [FechaCreacion] = @p2, [FechaModificacion] = @p3, [IdProveedor] = @p4, [Imagen] = @p5, [NombreProducto] = @p6, [Precio] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 16:00:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 16:00:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 16:00:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 16:00:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 16:00:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 16:00:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (70ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
WARN  2025-02-22 16:00:12 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
WARN  2025-02-22 16:00:12 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
INFO  2025-02-22 16:00:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (39ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 16:00:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (167ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 16:00:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (97ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 16:00:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 16:00:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (41ms) [Parameters=[@__userIdcarrito_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__userIdcarrito_0
INFO  2025-02-22 16:00:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pedidos] ([currency], [EstadoPedido], [FechaPedido], [IdUsuario], [NumeroPedido], [PagoId], [saleID], [total])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  2025-02-22 16:00:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePedido] ([Cantidad], [PedidoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 16:00:13 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HistorialPedidos] ([Accion], [Fecha], [IdUsuario], [Ip])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
INFO  2025-02-22 16:00:14 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleHistorialPedidos] ([Cantidad], [EstadoPedido], [FechaPedido], [HistorialPedidoId], [NumeroPedido], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INFO  2025-02-22 16:00:14 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItemsDelCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INFO  2025-02-22 16:00:14 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__p_0
INFO  2025-02-22 16:00:22 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (19ms) [Parameters=[@__usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[currency], [p].[EstadoPedido], [p].[FechaPedido], [p].[IdUsuario], [p].[NumeroPedido], [p].[PagoId], [p].[saleID], [p].[total]
FROM [Pedidos] AS [p]
WHERE [p].[IdUsuario] = @__usuarioId_0 AND [p].[EstadoPedido] = 'En Proceso'
ORDER BY [p].[FechaPedido] DESC
INFO  2025-02-22 16:00:22 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Pedidos] SET [currency] = @p0, [EstadoPedido] = @p1, [FechaPedido] = @p2, [IdUsuario] = @p3, [NumeroPedido] = @p4, [PagoId] = @p5, [saleID] = @p6, [total] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 16:00:28 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 16:00:28 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 16:00:28 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 16:00:28 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 17:37:38 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: https://localhost:7056
INFO  2025-02-22 17:37:38 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: http://localhost:5000
INFO  2025-02-22 17:37:38 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Application started. Press Ctrl+C to shut down.
INFO  2025-02-22 17:37:38 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Hosting environment: Development
INFO  2025-02-22 17:37:38 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Content root path: C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario
INFO  2025-02-22 17:37:55 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (436ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 17:37:55 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (69ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 17:37:56 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (42ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 17:38:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (618ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 17:38:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (154ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
WARN  2025-02-22 17:38:02 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
WARN  2025-02-22 17:38:02 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
INFO  2025-02-22 17:38:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (137ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 17:38:02 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (272ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 17:38:04 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (59ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 17:38:04 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 17:38:04 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 17:38:04 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 17:38:06 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__8__locals1_usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__8__locals1_usuarioId_0
INFO  2025-02-22 17:38:06 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (13ms) [Parameters=[@__8__locals1_idProducto_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__8__locals1_idProducto_0
INFO  2025-02-22 17:38:06 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (41ms) [Parameters=[@__carrito_Id_0='?' (DbType = Int32), @__8__locals1_idProducto_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__carrito_Id_0 AND [i].[ProductoId] = @__8__locals1_idProducto_1
INFO  2025-02-22 17:38:07 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ItemsDelCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 17:38:07 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (16ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 200) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Productos] SET [Cantidad] = @p0, [Descripcion] = @p1, [FechaCreacion] = @p2, [FechaModificacion] = @p3, [IdProveedor] = @p4, [Imagen] = @p5, [NombreProducto] = @p6, [Precio] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 17:38:07 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 17:38:07 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 17:38:07 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 17:38:07 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 17:38:09 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 17:38:09 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
INFO  2025-02-22 17:38:09 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 17:38:09 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 17:38:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 17:38:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 17:38:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__userIdcarrito_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__userIdcarrito_0
INFO  2025-02-22 17:38:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (55ms) [Parameters=[@p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pedidos] ([currency], [EstadoPedido], [FechaPedido], [IdUsuario], [NumeroPedido], [PagoId], [saleID], [total])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  2025-02-22 17:38:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (90ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePedido] ([Cantidad], [PedidoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 17:38:10 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (73ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HistorialPedidos] ([Accion], [Fecha], [IdUsuario], [Ip])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
INFO  2025-02-22 17:38:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleHistorialPedidos] ([Cantidad], [EstadoPedido], [FechaPedido], [HistorialPedidoId], [NumeroPedido], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INFO  2025-02-22 17:38:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItemsDelCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INFO  2025-02-22 17:38:11 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__p_0
ERROR 2025-02-22 17:38:12 – Clase: GestorInventario.Application.Services.PaypalServices - Mensaje: Error al crear la orden de PayPal
System.Exception: Error al crear la orden: BadRequest - {"name":"VALIDATION_ERROR","details":[{"field":"transactions[0].item_list.shipping_address.line1","issue":"Required field missing"}],"message":"Invalid request - see details","information_link":"https://developer.paypal.com/docs/api/payments/v1/#error-VALIDATION_ERROR","debug_id":"f2160129d617c"}
   at GestorInventario.Application.Services.PaypalServices.CreateOrderAsync(Checkout pagar) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\PaypalServices.cs:line 133
ERROR 2025-02-22 17:38:12 – Clase: GestorInventario.Infraestructure.Repositories.CarritoRepository - Mensaje: Error al realizar el pago
System.InvalidOperationException: No se pudo crear la orden de PayPal
 ---> System.Exception: Error al crear la orden: BadRequest - {"name":"VALIDATION_ERROR","details":[{"field":"transactions[0].item_list.shipping_address.line1","issue":"Required field missing"}],"message":"Invalid request - see details","information_link":"https://developer.paypal.com/docs/api/payments/v1/#error-VALIDATION_ERROR","debug_id":"f2160129d617c"}
   at GestorInventario.Application.Services.PaypalServices.CreateOrderAsync(Checkout pagar) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\PaypalServices.cs:line 133
   --- End of inner exception stack trace ---
   at GestorInventario.Application.Services.PaypalServices.CreateOrderAsync(Checkout pagar) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\PaypalServices.cs:line 149
   at GestorInventario.Infraestructure.Repositories.CarritoRepository.Pagar(String moneda, Int32 userId) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Infraestructure\Repositories\CarritoRepository.cs:line 155
INFO  2025-02-22 17:38:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (243ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 17:38:59 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 17:38:59 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
INFO  2025-02-22 17:38:59 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 17:38:59 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 17:39:06 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 17:39:26 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 17:39:27 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (18ms) [Parameters=[@__userIdcarrito_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__userIdcarrito_0
INFO  2025-02-22 17:39:28 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pedidos] ([currency], [EstadoPedido], [FechaPedido], [IdUsuario], [NumeroPedido], [PagoId], [saleID], [total])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  2025-02-22 17:39:30 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePedido] ([Cantidad], [PedidoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 17:39:31 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HistorialPedidos] ([Accion], [Fecha], [IdUsuario], [Ip])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
INFO  2025-02-22 17:39:33 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleHistorialPedidos] ([Cantidad], [EstadoPedido], [FechaPedido], [HistorialPedidoId], [NumeroPedido], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INFO  2025-02-22 17:39:33 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItemsDelCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INFO  2025-02-22 17:39:33 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__p_0
ERROR 2025-02-22 17:39:34 – Clase: GestorInventario.Application.Services.PaypalServices - Mensaje: Error al crear la orden de PayPal
System.Exception: Error al crear la orden: BadRequest - {"name":"VALIDATION_ERROR","details":[{"field":"transactions[0].item_list.shipping_address.line1","issue":"Required field missing"}],"message":"Invalid request - see details","information_link":"https://developer.paypal.com/docs/api/payments/v1/#error-VALIDATION_ERROR","debug_id":"f92955819227b"}
   at GestorInventario.Application.Services.PaypalServices.CreateOrderAsync(Checkout pagar) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\PaypalServices.cs:line 133
ERROR 2025-02-22 17:39:34 – Clase: GestorInventario.Infraestructure.Repositories.CarritoRepository - Mensaje: Error al realizar el pago
System.InvalidOperationException: No se pudo crear la orden de PayPal
 ---> System.Exception: Error al crear la orden: BadRequest - {"name":"VALIDATION_ERROR","details":[{"field":"transactions[0].item_list.shipping_address.line1","issue":"Required field missing"}],"message":"Invalid request - see details","information_link":"https://developer.paypal.com/docs/api/payments/v1/#error-VALIDATION_ERROR","debug_id":"f92955819227b"}
   at GestorInventario.Application.Services.PaypalServices.CreateOrderAsync(Checkout pagar) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\PaypalServices.cs:line 133
   --- End of inner exception stack trace ---
   at GestorInventario.Application.Services.PaypalServices.CreateOrderAsync(Checkout pagar) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\PaypalServices.cs:line 149
   at GestorInventario.Infraestructure.Repositories.CarritoRepository.Pagar(String moneda, Int32 userId) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Infraestructure\Repositories\CarritoRepository.cs:line 155
INFO  2025-02-22 17:39:34 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 17:42:14 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: https://localhost:7056
INFO  2025-02-22 17:42:14 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: http://localhost:5000
INFO  2025-02-22 17:42:14 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Application started. Press Ctrl+C to shut down.
INFO  2025-02-22 17:42:14 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Hosting environment: Development
INFO  2025-02-22 17:42:14 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Content root path: C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario
INFO  2025-02-22 17:42:18 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 17:42:18 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 17:42:18 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 17:42:21 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 17:42:21 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
WARN  2025-02-22 17:42:21 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
WARN  2025-02-22 17:42:21 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
INFO  2025-02-22 17:42:21 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 17:42:21 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 17:42:23 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 17:42:23 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 17:42:23 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__userIdcarrito_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__userIdcarrito_0
INFO  2025-02-22 17:42:23 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pedidos] ([currency], [EstadoPedido], [FechaPedido], [IdUsuario], [NumeroPedido], [PagoId], [saleID], [total])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  2025-02-22 17:42:23 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePedido] ([Cantidad], [PedidoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 17:42:23 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HistorialPedidos] ([Accion], [Fecha], [IdUsuario], [Ip])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
INFO  2025-02-22 17:42:23 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleHistorialPedidos] ([Cantidad], [EstadoPedido], [FechaPedido], [HistorialPedidoId], [NumeroPedido], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INFO  2025-02-22 17:42:23 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItemsDelCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INFO  2025-02-22 17:42:23 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__p_0
INFO  2025-02-22 17:43:58 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (20ms) [Parameters=[@__usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[currency], [p].[EstadoPedido], [p].[FechaPedido], [p].[IdUsuario], [p].[NumeroPedido], [p].[PagoId], [p].[saleID], [p].[total]
FROM [Pedidos] AS [p]
WHERE [p].[IdUsuario] = @__usuarioId_0 AND [p].[EstadoPedido] = 'En Proceso'
ORDER BY [p].[FechaPedido] DESC
INFO  2025-02-22 17:43:58 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (37ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Pedidos] SET [currency] = @p0, [EstadoPedido] = @p1, [FechaPedido] = @p2, [IdUsuario] = @p3, [NumeroPedido] = @p4, [PagoId] = @p5, [saleID] = @p6, [total] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 17:44:05 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 17:44:05 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 17:44:05 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 17:44:05 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 17:46:28 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: https://localhost:7056
INFO  2025-02-22 17:46:28 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: http://localhost:5000
INFO  2025-02-22 17:46:28 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Application started. Press Ctrl+C to shut down.
INFO  2025-02-22 17:46:28 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Hosting environment: Development
INFO  2025-02-22 17:46:28 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Content root path: C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario
INFO  2025-02-22 17:46:32 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (82ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 17:46:32 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (27ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 17:46:32 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 17:47:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (130ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 17:47:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
WARN  2025-02-22 17:47:12 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
WARN  2025-02-22 17:47:12 – Clase: Microsoft.EntityFrameworkCore.Query - Mensaje: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
INFO  2025-02-22 17:47:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (40ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 17:47:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 17:47:15 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 17:47:15 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 17:47:15 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 17:47:15 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 17:47:16 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (82ms) [Parameters=[@__8__locals1_usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__8__locals1_usuarioId_0
INFO  2025-02-22 17:47:16 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__8__locals1_idProducto_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__8__locals1_idProducto_0
INFO  2025-02-22 17:47:16 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (20ms) [Parameters=[@__carrito_Id_0='?' (DbType = Int32), @__8__locals1_idProducto_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__carrito_Id_0 AND [i].[ProductoId] = @__8__locals1_idProducto_1
INFO  2025-02-22 17:47:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ItemsDelCarrito] ([Cantidad], [CarritoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 17:47:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 200) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Productos] SET [Cantidad] = @p0, [Descripcion] = @p1, [FechaCreacion] = @p2, [FechaModificacion] = @p3, [IdProveedor] = @p4, [Imagen] = @p5, [NombreProducto] = @p6, [Precio] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 17:47:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 17:47:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 17:47:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 17:47:17 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 17:47:18 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 17:47:18 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__id_0
INFO  2025-02-22 17:47:18 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i0].[Id], [i0].[Cantidad], [i0].[CarritoId], [i0].[ProductoId], [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
    FROM [ItemsDelCarrito] AS [i]
    WHERE [i].[CarritoId] = @__id_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [i0]
LEFT JOIN [Productos] AS [p] ON [i0].[ProductoId] = [p].[Id]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
INFO  2025-02-22 17:47:18 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [m].[Id], [m].[Codigo], [m].[Nombre]
FROM [Moneda] AS [m]
INFO  2025-02-22 17:47:19 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__id_0
INFO  2025-02-22 17:47:19 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[FechaCreacion], [c].[UsuarioId]
FROM [Carrito] AS [c]
WHERE [c].[UsuarioId] = @__userId_0
INFO  2025-02-22 17:47:19 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@__userIdcarrito_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[Cantidad], [i].[CarritoId], [i].[ProductoId]
FROM [ItemsDelCarrito] AS [i]
WHERE [i].[CarritoId] = @__userIdcarrito_0
INFO  2025-02-22 17:47:20 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (35ms) [Parameters=[@p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Pedidos] ([currency], [EstadoPedido], [FechaPedido], [IdUsuario], [NumeroPedido], [PagoId], [saleID], [total])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INFO  2025-02-22 17:47:20 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePedido] ([Cantidad], [PedidoId], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
INFO  2025-02-22 17:47:20 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 100) (DbType = AnsiString), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [HistorialPedidos] ([Accion], [Fecha], [IdUsuario], [Ip])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
INFO  2025-02-22 17:47:20 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetalleHistorialPedidos] ([Cantidad], [EstadoPedido], [FechaPedido], [HistorialPedidoId], [NumeroPedido], [ProductoId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
INFO  2025-02-22 17:47:20 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [ItemsDelCarrito]
OUTPUT 1
WHERE [Id] = @p0;
INFO  2025-02-22 17:47:20 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
FROM [Productos] AS [p]
WHERE [p].[Id] = @__p_0
INFO  2025-02-22 17:47:37 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[@__usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[currency], [p].[EstadoPedido], [p].[FechaPedido], [p].[IdUsuario], [p].[NumeroPedido], [p].[PagoId], [p].[saleID], [p].[total]
FROM [Pedidos] AS [p]
WHERE [p].[IdUsuario] = @__usuarioId_0 AND [p].[EstadoPedido] = 'En Proceso'
ORDER BY [p].[FechaPedido] DESC
INFO  2025-02-22 17:47:37 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (66ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Size = 8000) (DbType = AnsiString), @p1='?' (Size = 100) (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 20) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (Size = 8000) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Pedidos] SET [currency] = @p0, [EstadoPedido] = @p1, [FechaPedido] = @p2, [IdUsuario] = @p3, [NumeroPedido] = @p4, [PagoId] = @p5, [saleID] = @p6, [total] = @p7
OUTPUT 1
WHERE [Id] = @p8;
INFO  2025-02-22 17:47:44 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p1].[Id], [p1].[Cantidad], [p1].[Descripcion], [p1].[FechaCreacion], [p1].[FechaModificacion], [p1].[IdProveedor], [p1].[Imagen], [p1].[NombreProducto], [p1].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM (
    SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio]
    FROM [Productos] AS [p]
    ORDER BY [p].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p1]
LEFT JOIN [Proveedores] AS [p0] ON [p1].[IdProveedor] = [p0].[Id]
ORDER BY [p1].[Id]
INFO  2025-02-22 17:47:44 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Contacto], [p].[Direccion], [p].[NombreProveedor]
FROM [Proveedores] AS [p]
INFO  2025-02-22 17:47:44 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Cantidad], [p].[Descripcion], [p].[FechaCreacion], [p].[FechaModificacion], [p].[IdProveedor], [p].[Imagen], [p].[NombreProducto], [p].[Precio], [p0].[Id], [p0].[Contacto], [p0].[Direccion], [p0].[NombreProveedor]
FROM [Productos] AS [p]
LEFT JOIN [Proveedores] AS [p0] ON [p].[IdProveedor] = [p0].[Id]
ORDER BY [p].[Id]
INFO  2025-02-22 17:47:44 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
INFO  2025-02-22 17:56:23 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: https://localhost:7056
INFO  2025-02-22 17:56:23 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: http://localhost:5000
INFO  2025-02-22 17:56:23 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Application started. Press Ctrl+C to shut down.
INFO  2025-02-22 17:56:23 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Hosting environment: Development
INFO  2025-02-22 17:56:23 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Content root path: C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario
INFO  2025-02-22 17:56:42 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (208ms) [Parameters=[@__email_0='?' (Size = 500) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Email] = @__email_0
INFO  2025-02-22 17:56:42 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (6ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
ERROR 2025-02-22 17:56:43 – Clase: GestorInventario.Infraestructure.Controllers.AuthController - Mensaje: Error al realizar el login
System.Security.Cryptography.CryptographicException: Specified padding mode is not valid for this algorithm.
   at System.Security.Cryptography.RSACryptoServiceProvider.Encrypt(Byte[] data, RSAEncryptionPadding padding)
   at GestorInventario.Application.Services.TokenGenerator.GenerarTokenAsimetricoDinamico(Usuario credencialesUsuario) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\TokenGenerator.cs:line 134
   at GestorInventario.Application.Services.TokenService.GenerarToken(Usuario credencialesUsuario) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Application\Services\TokenService.cs:line 37
   at GestorInventario.Infraestructure.Controllers.AuthController.Login(LoginViewModel model) in C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario\Infraestructure\Controllers\AuthController.cs:line 113
INFO  2025-02-22 17:59:58 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: https://localhost:7056
INFO  2025-02-22 17:59:59 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Now listening on: http://localhost:5000
INFO  2025-02-22 17:59:59 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Application started. Press Ctrl+C to shut down.
INFO  2025-02-22 17:59:59 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Hosting environment: Development
INFO  2025-02-22 17:59:59 – Clase: Microsoft.Hosting.Lifetime - Mensaje: Content root path: C:\Users\guill\OneDrive\Escritorio\Proyectos .NET\proyectos mvc\Gestor Inventario\GestorInventario\GestorInventario
INFO  2025-02-22 18:00:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (481ms) [Parameters=[@__email_0='?' (Size = 500) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Email] = @__email_0
INFO  2025-02-22 18:00:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (7ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword], [r].[Id], [r].[Nombre]
FROM [Usuarios] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[IdRol] = [r].[Id]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
INFO  2025-02-22 18:00:12 – Clase: Microsoft.EntityFrameworkCore.Database.Command - Mensaje: Executed DbCommand (3ms) [Parameters=[@__credencialesUsuario_Id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[BajaUsuario], [u].[ciudad], [u].[codigoPostal], [u].[ConfirmacionEmail], [u].[Direccion], [u].[Email], [u].[EnlaceCambioPass], [u].[FechaEnlaceCambioPass], [u].[FechaExpiracionContrasenaTemporal], [u].[FechaNacimiento], [u].[FechaRegistro], [u].[IdRol], [u].[NombreCompleto], [u].[Password], [u].[Salt], [u].[Telefono], [u].[TemporaryPassword]
FROM [Usuarios] AS [u]
WHERE [u].[Id] = @__credencialesUsuario_Id_0
