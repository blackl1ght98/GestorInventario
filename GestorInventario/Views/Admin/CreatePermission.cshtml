@model List<GestorInventario.Application.DTOs.NewPermisoDTO>

<h1>Crear Permiso</h1>

<form asp-action="CreatePermission" method="post">
    <div asp-validation-summary="All" class="text-danger"></div>

    <div class="form-group">
        <label>Agregar Permisos</label>
        <div id="nuevos-permisos">
            <div class="permiso-item">
                <input type="text" name="[0].Nombre" class="form-control" placeholder="Nombre del permiso" required />
                <input type="text" name="[0].Descripcion" class="form-control" placeholder="Descripción del permiso" />
            </div>
        </div>
        <button type="button" class="btn btn-secondary" onclick="agregarPermiso()">Agregar otro permiso</button>
    </div>

    <button type="submit" class="btn btn-primary">Crear Permisos</button>
    <a asp-action="CreateRole" class="btn btn-secondary">Volver a Crear Rol</a>
</form>

@section Scripts {
  
    <script>
        let contadorPermisos = 1;
        function agregarPermiso() {
            const container = document.getElementById('nuevos-permisos');
            const nuevoPermiso = document.createElement('div');
            nuevoPermiso.className = 'permiso-item';
            nuevoPermiso.innerHTML = `
                <input type="text" name="[${contadorPermisos}].Nombre" class="form-control" placeholder="Nombre del permiso" required />
                <input type="text" name="[${contadorPermisos}].Descripcion" class="form-control" placeholder="Descripción del permiso" />
            `;
            container.appendChild(nuevoPermiso);
            contadorPermisos++;
        }
    </script>
}